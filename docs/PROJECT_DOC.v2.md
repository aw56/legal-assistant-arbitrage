–û—Ç–ª–∏—á–Ω–æ üöÄ
–Ø —Å–æ–±—Ä–∞–ª –¥–ª—è —Ç–µ–±—è **—Ñ–∏–Ω–∞–ª—å–Ω—ã–π `docs/PROJECT_DOC.md`**. –í –Ω—ë–º —Ç–µ–ø–µ—Ä—å –≤—Å—Ç—Ä–æ–µ–Ω—ã:

* ASCII-—Å—Ö–µ–º–∞ –º–æ–¥—É–ª–µ–π (–≤ —Ä–∞–∑–¥–µ–ª–µ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞).
* Mermaid-–¥–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
* Mermaid workflow –±—ç–∫–∞–ø–∞/—Ä–µ—Å—Ç–æ—Ä–∞.
* –í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã (Git Workflow, Disaster Recovery Checklist, Plesk –∏ —Ç.–¥.).

---

```markdown
# üìò Legal Assistant API ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–∞—Ç–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏: 25 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
–ê–≤—Ç–æ—Ä: Aleksej  
–ü—Ä–æ–µ–∫—Ç: –¶–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ —é—Ä–∏—Å—Ç–∞ –ø–æ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–º –¥–µ–ª–∞–º  
–§–æ—Ä–º–∞—Ç: –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è backend-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π, —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã–º –±–ª–æ–∫–æ–º  

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —é—Ä–∏—Å—Ç–∞ –ø–æ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–º –¥–µ–ª–∞–º ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –æ–±—ä–µ–¥–∏–Ω—è—é—â–µ–π:

- –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—É—é –±–∞–∑—É –∏ —Å—É–¥–µ–±–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É
- —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –ø—Ä–∞–≤–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–∞ —Å–ø–æ—Ä–∞
- —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —é—Ä–∏—Å—Ç–∞
- –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ –º–æ–¥—É–ª—è–º)

### üîπ 1. –ù–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –∏ –ø—Ä–æ—Ü–µ—Å—Å—É–∞–ª—å–Ω–∞—è –±–∞–∑–∞
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–≤, –∫–æ–¥–µ–∫—Å–æ–≤, –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –ü–ª–µ–Ω—É–º–∞, —Å—É–¥–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏: pravo.gov.ru, vsrf.ru, –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ —Å—É–¥—ã, –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç/–ì–∞—Ä–∞–Ω—Ç
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ü–∏–π, —Å–≤—è–∑–µ–π: ¬´–Ω–æ—Ä–º–∞ ‚Üî –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Üî —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏–µ¬ª
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ RSS/API/—Å–∫—Ä–∏–ø—Ç—ã

### üîπ 2. –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã
- –§–æ–Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –£–∫–∞–∑–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤—É—é—â–µ–π —Ä–µ–¥–∞–∫—Ü–∏–∏ –Ω–∞ –¥–∞—Ç—É —Å–ø–æ—Ä–∞

### üîπ 3. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –í–µ–±-—Ñ–æ—Ä–º–∞ –∏–ª–∏ Telegram-–±–æ—Ç
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞, —Å—É—Ç—å —Å–ø–æ—Ä–∞, —Å—Ç–∞–¥–∏—è, —Ü–µ–ª–∏, —Å—Ä–æ–∫–∏, —Ä–µ–≥–∏–æ–Ω

### üîπ 4. –ü—Ä–∞–≤–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –Ω–æ—Ä–º
- –ü–æ–∏—Å–∫ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏
- –ò–µ—Ä–∞—Ä—Ö–∏—è: –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è ‚Üí –∫–æ–¥–µ–∫—Å ‚Üí —Å–ø–µ—Ü. –∑–∞–∫–æ–Ω ‚Üí –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Üí –ª–æ–∫–∞–ª—å–Ω—ã–µ –∞–∫—Ç—ã

### üîπ 5. –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π –ø—Ä–∞–≤–∞
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é

### üîπ 6. –ú–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ: –≤–≤–æ–¥, —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ—Ä–º—ã, –ø—Ä–∞–∫—Ç–∏–∫–∞, –≤—ã–≤–æ–¥

### üîπ 7. –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É—Å–ø–µ—Ö–∞
- NLP-–º–æ–¥–µ–ª—å –Ω–∞ –∫–æ—Ä–ø—É—Å–µ —Ä–µ—à–µ–Ω–∏–π
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ
- –£—á–µ—Ç —Å—É–¥–∞, —Ä–µ–≥–∏–æ–Ω–∞, —Å—É–º–º—ã
- –í—ã—Ö–æ–¥: ¬´65% –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ¬ª

### üîπ 8. –°—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —É—á–∞—Å—Ç–∏—è

### üîπ 9. –¢–∏–ø–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –®–∞–±–ª–æ–Ω—ã: –∏—Å–∫, –æ—Ç–∑—ã–≤, —Ö–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ, –∂–∞–ª–æ–±–∞
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏
- –§–æ—Ä–º–∞—Ç—ã: DOCX/PDF

### üîπ 10. –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- –†–∞–±–æ—Ç–∞ –æ—Ñ–ª–∞–π–Ω
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ä–æ—Å—Å–∏–π—Å–∫—É—é —é—Ä–∏—Å–¥–∏–∫—Ü–∏—é

### üîπ 11. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥
- –°—Ä–µ–¥–Ω–µ—Ä—ã–Ω–æ—á–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã: —Ä–µ–≥–∏–æ–Ω, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Å—Ç–∞–¥–∏—è
- –î–∏–∞–ø–∞–∑–æ–Ω: ¬´–æ—Ç 80 000 –¥–æ 120 000 —Ä—É–±.¬ª

### üîπ 12. –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ü–∏—Ñ—Ä–æ–≤–æ–π —é—Ä–∏—Å—Ç
- –ö–∞–Ω–∞–ª—ã: SEO, —Ä–µ–∫–ª–∞–º–∞, Telegram
- –£–¢–ü: —Å–∫–æ—Ä–æ—Å—Ç—å, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø—Ä–æ–≥–Ω–æ–∑
- –ö–æ–Ω—Ç–µ–Ω—Ç: –∫–µ–π—Å—ã, —Ü–∏—Ñ—Ä—ã, —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É

---

### üìä ASCII-—Å—Ö–µ–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```

[ –ö–ª–∏–µ–Ω—Ç ] ‚Üí [ API Gateway / FastAPI ]
‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ê–Ω–∞–ª–∏—Ç–∏–∫–∞    ‚îÇ
‚îÇ  NLP-–º–æ–¥—É–ª—å   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚Üì
[ PostgreSQL –±–∞–∑–∞ ]
‚Üì
[ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –Ω–æ—Ä–º ]
‚Üì
[ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ / PDF ]

````

---

### üñº Mermaid-–¥–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```mermaid
graph TD
    A[–ö–ª–∏–µ–Ω—Ç: Web/Telegram] --> B[FastAPI Backend]
    B --> C[PostgreSQL]
    B --> D[NLP –ê–Ω–∞–ª–∏—Ç–∏–∫–∞]
    B --> E[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤]
    C --> F[–ë–∞–∑–∞ –Ω–æ—Ä–º –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏]
    F --> B
    D --> B
    E --> A
````

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```

my_projects/
‚îú‚îÄ‚îÄ etc
‚îÇ   ‚îú‚îÄ‚îÄ letsencrypt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli.ini
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ options-ssl-nginx.conf
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ renewal
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ a-quilon.com.conf
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ renewal-hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deploy
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pre
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ssl-dhparams.pem
‚îÇ   ‚îú‚îÄ‚îÄ nginx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sites-available
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ legal-assistant
‚îÇ   ‚îî‚îÄ‚îÄ systemd
‚îÇ       ‚îî‚îÄ‚îÄ system
‚îÇ           ‚îî‚îÄ‚îÄ fastapi.service
‚îú‚îÄ‚îÄ home
‚îÇ   ‚îî‚îÄ‚îÄ admin
‚îÇ       ‚îî‚îÄ‚îÄ my_projects
‚îÇ           ‚îî‚îÄ‚îÄ legal-assistant-arbitrage
‚îú‚îÄ‚îÄ legal-assistant-arbitrage
‚îÇ   ‚îú‚îÄ‚îÄ Makefile
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ backend
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __pycache__
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ db.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ init_db.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ legal_opinion.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ main.py.bak
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ models2.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ models2.py.bak
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ parser.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ routes2/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ schemas2/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ services2/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ tests2/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ backup_legal_assistant
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_20250924_0728.sql
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ project_20250924_0728.tar.gz
‚îÇ   ‚îú‚îÄ‚îÄ data
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ legal_assistant_mvp.json
‚îÇ   ‚îú‚îÄ‚îÄ db
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ import_to_postgres.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.sql
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îú‚îÄ‚îÄ docs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PROJECT_DOC.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ architecture.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contributing.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deployment.md
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ legal-model.md
‚îÇ   ‚îú‚îÄ‚îÄ etc
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ letsencrypt/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ systemd/
‚îÇ   ‚îú‚îÄ‚îÄ fix_duplicates.sh
‚îÇ   ‚îú‚îÄ‚îÄ fix_git.sh
‚îÇ   ‚îú‚îÄ‚îÄ github
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ISSUE_TEMPLATE/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ   ‚îú‚îÄ‚îÄ legal_opinion.py
‚îÇ   ‚îú‚îÄ‚îÄ pytest.ini
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ uvicorn.log
‚îÇ   ‚îî‚îÄ‚îÄ venv
‚îÇ       ‚îú‚îÄ‚îÄ bin/
‚îÇ       ‚îú‚îÄ‚îÄ include/
‚îÇ       ‚îî‚îÄ‚îÄ lib/
‚îî‚îÄ‚îÄ tmp_restore
```

---

### üß™ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

---

### üóÑÔ∏è PostgreSQL

```bash
sudo -u postgres psql
CREATE DATABASE legal_assistant_db;
CREATE USER admin WITH PASSWORD 'admin14092025';
GRANT ALL PRIVILEGES ON DATABASE legal_assistant_db TO admin;
```

`.env`:

```
DATABASE_URL=postgresql://admin:admin14092025@localhost:5432/legal_assistant_db
```

---

### üöÄ –ó–∞–ø—É—Å–∫ FastAPI

```bash
uvicorn backend.app.main:app --host 0.0.0.0 --port 8000
```

---

### üß≠ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd

```ini
[Unit]
Description=FastAPI app
After=network.target

[Service]
User=admin
WorkingDirectory=/home/admin/my_projects/legal-assistant-arbitrage/backend/app
Environment="PATH=/home/admin/my_projects/legal-assistant-arbitrage/venv/bin"
ExecStart=/home/admin/my_projects/legal-assistant-arbitrage/venv/bin/python -m uvicorn main:app --host 0.0.0.0 --port 8000
Restart=always

[Install]
WantedBy=multi-user.target
```

---

## üìë Backup & Restore Guide

### üì¶ backup.sh

```bash
#!/bin/bash
set -euo pipefail

PROJECT_DIR="/home/admin/my_projects/legal-assistant-arbitrage"
BACKUP_DIR="/root/legal-assistant-arbitrage/backup_legal_assistant"
DATE=$(date +%Y%m%d_%H%M)

mkdir -p "$BACKUP_DIR"

tar -czf "$BACKUP_DIR/project_${DATE}.tar.gz" \
  -C "$PROJECT_DIR" \
  backend/app requirements.txt .env .git

pg_dump -U legal_admin legal_assistant_db > "$BACKUP_DIR/db_${DATE}.sql"

echo "‚úÖ Backup complete"
```

---

### üîÑ restore_all.sh v35

```bash
#!/bin/bash
set -euo pipefail

PROJECT_DIR="/home/admin/my_projects/legal-assistant-arbitrage"
BACKUP_PROJECT="$1"
BACKUP_DB="$2"

systemctl stop fastapi || true
rm -rf "$PROJECT_DIR"
mkdir -p "$PROJECT_DIR"

TMPDIR=$(mktemp -d)
tar -xzf "$BACKUP_PROJECT" -C "$TMPDIR"

APP_PATH=$(find "$TMPDIR" -type d -path "*/backend/app" | head -n1)
mkdir -p "$PROJECT_DIR/backend"
cp -r "$APP_PATH" "$PROJECT_DIR/backend/app"

find "$TMPDIR" -name ".env" -exec cp {} "$PROJECT_DIR/" \; || true
find "$TMPDIR" -name "requirements.txt" -exec cp {} "$PROJECT_DIR/" \; || true
find "$TMPDIR" -name ".git" -exec cp -r {} "$PROJECT_DIR/.git" \; || true

psql -U legal_admin -d legal_assistant_db < "$BACKUP_DB" || true
```

---

### üñº Mermaid Workflow: Backup & Restore

```mermaid
flowchart LR
    A[Run backup.sh] --> B[Create project archive]
    B --> C[Dump PostgreSQL DB]
    C --> D[Copy to backup dir]
    D --> E[Transfer to new server]
    E --> F[Run restore_all.sh]
    F --> G[Unpack project + .env + .git]
    G --> H[Restore DB]
    H --> I[Setup venv + FastAPI + Nginx]
    I --> J[App running at https://a-quilon.com/docs]
```

---

## üõ† Troubleshooting FastAPI

* **`ModuleNotFoundError: No module named 'backend'`** ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å `fix_structure.sh`.
* **`sqlalchemy not found`** ‚Üí `pip install -r requirements.txt`.
* **`OSError: [Errno 98] Address already in use`** ‚Üí `sudo lsof -i:8000 && kill -9 <PID>`.

---

## üö® Disaster Recovery Checklist

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã: `apt-get install python3 postgresql nginx certbot`.
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤—ã `project_*.tar.gz` –∏ `db_*.sql`.
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å `restore_all.sh`.
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å FastAPI: `systemctl status fastapi`.
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTPS: `https://a-quilon.com/docs`.

---

## üå± Git Workflow

```bash
git status
git add .
git commit -m "Update"
git pull origin main --rebase
git push origin main
```

---

## üë§ –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º admin –Ω–∞ Plesk

* –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è:

```bash
plesk bin admin --set-password -passwd "NEW_SECURE_PASS"
```

* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ sudo:

```bash
usermod -aG sudo admin
```

* SSH –±–µ–∑ –ø–∞—Ä–æ–ª—è:

```bash
mkdir -p ~/.ssh
chmod 700 ~/.ssh
echo "PUB_KEY" >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
```

---

```

---

–•–æ—á–µ—à—å, —è –µ—â—ë –¥–æ–±–∞–≤–ª—é **Mermaid sequenceDiagram**, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π —Ü–µ–ø–æ—á–∫—É –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –≤—Ö–æ–¥–µ –∫–ª–∏–µ–Ω—Ç–∞ (–∫–ª–∏–µ–Ω—Ç ‚Üí API ‚Üí –ë–î ‚Üí –æ—Ç–≤–µ—Ç), —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞–≥–ª—è–¥–Ω—ã–º —é–∑–∫–µ–π—Å–æ–º?
```
